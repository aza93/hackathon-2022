var oe=Object.defineProperty,re=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var O=(n,e,t)=>e in n?oe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||(e={}))ie.call(e,t)&&O(n,t,e[t]);if(D)for(var t of D(e))ae.call(e,t)&&O(n,t,e[t]);return n},_=(n,e)=>re(n,se(e));class B{constructor(e){this.properties=e!=null?e:[]}get(e){const t=this.properties.filter(o=>o.name===e).map(o=>o.value);if(t.length>1)throw new Error('Expected only one property to be named "'+e+'"');if(t.length!==0)return t[0]}getString(e){return this.getByType(e,"string")}getNumber(e){return this.getByType(e,"number")}getBoolean(e){return this.getByType(e,"boolean")}getByType(e,t){const o=this.get(e);if(o!==void 0){if(typeof o!==t)throw new Error('Expected property "'+e+'" to have type "'+t+'"');return o}}mustGetString(e){return this.mustGetByType(e,"string")}mustGetNumber(e){return this.mustGetByType(e,"number")}mustGetBoolean(e){return this.mustGetByType(e,"boolean")}mustGetByType(e,t){const o=this.get(e);if(o===void 0)throw new Error('Property "'+e+'" is missing');if(typeof o!==t)throw new Error('Expected property "'+e+'" to have type "'+t+'"');return o}getType(e){const t=this.properties.filter(o=>o.name===e).map(o=>o.type);if(t.length>1)throw new Error('Expected only one property to be named "'+e+'"');if(t.length!==0)return t[0]}}const k="https://unpkg.com/@workadventure/scripting-api-extra@1.3.2/dist";class ce{constructor(e){this.name=e.name,this.x=e.x,this.y=e.y,this.properties=new B(e.properties)}get isReadable(){const e=this.properties.getString("readableBy");return e?WA.player.tags.includes(e):!0}get isWritable(){const e=this.properties.getString("writableBy");return e?WA.player.tags.includes(e):!0}}function H(n){const e=n?"#"+n.join():"";WA.nav.openCoWebSite(k+"/configuration.html"+e)}async function le(n,e){const t=await WA.room.getTiledMap(),o=new Map;return J(t.layers,o,n,e),o}function J(n,e,t,o){for(const r of n)if(r.type==="objectgroup"){for(const s of r.objects)if(s.type==="variable"){if(!!t&&r.name!==t||!!o&&!o.includes(s.name))continue;e.set(s.name,new ce(s))}}else r.type==="group"&&J(r.layers,e,t,o)}let x;async function L(){return x===void 0&&(x=ue()),x}async function ue(){return pe(await WA.room.getTiledMap())}function pe(n){const e=new Map;return Q(n.layers,"",e),e}function Q(n,e,t){for(const o of n)o.type==="group"?Q(o.layers,e+o.name+"/",t):(o.name=e+o.name,t.set(o.name,o))}function he(n){let e=1/0,t=1/0,o=0,r=0;const s=n.data;if(typeof s=="string")throw new Error("Unsupported tile layer data stored as string instead of CSV");for(let i=0;i<n.height;i++)for(let c=0;c<n.width;c++)s[c+i*n.width]!==0&&(e=Math.min(e,c),r=Math.max(r,c),t=Math.min(t,i),o=Math.max(o,i));return{top:t,left:e,right:r+1,bottom:o+1}}function z(n){let e=1/0,t=1/0,o=0,r=0;for(const s of n){const i=he(s);i.left<e&&(e=i.left),i.top<t&&(t=i.top),i.right>r&&(r=i.right),i.bottom>o&&(o=i.bottom)}return{top:t,left:e,right:r,bottom:o}}/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var fe=Object.prototype.toString,S=Array.isArray||function(e){return fe.call(e)==="[object Array]"};function V(n){return typeof n=="function"}function de(n){return S(n)?"array":typeof n}function R(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function q(n,e){return n!=null&&typeof n=="object"&&e in n}function ge(n,e){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(e)}var ye=RegExp.prototype.test;function ve(n,e){return ye.call(n,e)}var me=/\S/;function we(n){return!ve(me,n)}var be={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Ze(n){return String(n).replace(/[&<>"'`=\/]/g,function(t){return be[t]})}var Ae=/\s*/,We=/\s+/,K=/\s*=/,Se=/\s*\}/,Ce=/#|\^|\/|>|\{|&|=|!/;function Be(n,e){if(!n)return[];var t=!1,o=[],r=[],s=[],i=!1,c=!1,a="",u=0;function f(){if(i&&!c)for(;s.length;)delete r[s.pop()];else s=[];i=!1,c=!1}var g,v,h;function Z(b){if(typeof b=="string"&&(b=b.split(We,2)),!S(b)||b.length!==2)throw new Error("Invalid tags: "+b);g=new RegExp(R(b[0])+"\\s*"),v=new RegExp("\\s*"+R(b[1])),h=new RegExp("\\s*"+R("}"+b[1]))}Z(e||m.tags);for(var l=new E(n),p,d,w,C,M,A;!l.eos();){if(p=l.pos,w=l.scanUntil(g),w)for(var T=0,ne=w.length;T<ne;++T)C=w.charAt(T),we(C)?(s.push(r.length),a+=C):(c=!0,t=!0,a+=" "),r.push(["text",C,p,p+1]),p+=1,C===`
`&&(f(),a="",u=0,t=!1);if(!l.scan(g))break;if(i=!0,d=l.scan(Ce)||"name",l.scan(Ae),d==="="?(w=l.scanUntil(K),l.scan(K),l.scanUntil(v)):d==="{"?(w=l.scanUntil(h),l.scan(Se),l.scanUntil(v),d="&"):w=l.scanUntil(v),!l.scan(v))throw new Error("Unclosed tag at "+l.pos);if(d==">"?M=[d,w,p,l.pos,a,u,t]:M=[d,w,p,l.pos],u++,r.push(M),d==="#"||d==="^")o.push(M);else if(d==="/"){if(A=o.pop(),!A)throw new Error('Unopened section "'+w+'" at '+p);if(A[1]!==w)throw new Error('Unclosed section "'+A[1]+'" at '+p)}else d==="name"||d==="{"||d==="&"?c=!0:d==="="&&Z(w)}if(f(),A=o.pop(),A)throw new Error('Unclosed section "'+A[1]+'" at '+l.pos);return Ee(Pe(r))}function Pe(n){for(var e=[],t,o,r=0,s=n.length;r<s;++r)t=n[r],t&&(t[0]==="text"&&o&&o[0]==="text"?(o[1]+=t[1],o[3]=t[3]):(e.push(t),o=t));return e}function Ee(n){for(var e=[],t=e,o=[],r,s,i=0,c=n.length;i<c;++i)switch(r=n[i],r[0]){case"#":case"^":t.push(r),o.push(r),t=r[4]=[];break;case"/":s=o.pop(),s[5]=r[2],t=o.length>0?o[o.length-1][4]:e;break;default:t.push(r)}return e}function E(n){this.string=n,this.tail=n,this.pos=0}E.prototype.eos=function(){return this.tail===""};E.prototype.scan=function(e){var t=this.tail.match(e);if(!t||t.index!==0)return"";var o=t[0];return this.tail=this.tail.substring(o.length),this.pos+=o.length,o};E.prototype.scanUntil=function(e){var t=this.tail.search(e),o;switch(t){case-1:o=this.tail,this.tail="";break;case 0:o="";break;default:o=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=o.length,o};function W(n,e){this.view=n,this.cache={".":this.view},this.parent=e}W.prototype.push=function(e){return new W(e,this)};W.prototype.lookup=function(e){var t=this.cache,o;if(t.hasOwnProperty(e))o=t[e];else{for(var r=this,s,i,c,a=!1;r;){if(e.indexOf(".")>0)for(s=r.view,i=e.split("."),c=0;s!=null&&c<i.length;)c===i.length-1&&(a=q(s,i[c])||ge(s,i[c])),s=s[i[c++]];else s=r.view[e],a=q(r.view,e);if(a){o=s;break}r=r.parent}t[e]=o}return V(o)&&(o=o.call(this.view)),o};function y(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}y.prototype.clearCache=function(){typeof this.templateCache!="undefined"&&this.templateCache.clear()};y.prototype.parse=function(e,t){var o=this.templateCache,r=e+":"+(t||m.tags).join(":"),s=typeof o!="undefined",i=s?o.get(r):void 0;return i==null&&(i=Be(e,t),s&&o.set(r,i)),i};y.prototype.render=function(e,t,o,r){var s=this.getConfigTags(r),i=this.parse(e,s),c=t instanceof W?t:new W(t,void 0);return this.renderTokens(i,c,o,e,r)};y.prototype.renderTokens=function(e,t,o,r,s){for(var i="",c,a,u,f=0,g=e.length;f<g;++f)u=void 0,c=e[f],a=c[0],a==="#"?u=this.renderSection(c,t,o,r,s):a==="^"?u=this.renderInverted(c,t,o,r,s):a===">"?u=this.renderPartial(c,t,o,s):a==="&"?u=this.unescapedValue(c,t):a==="name"?u=this.escapedValue(c,t,s):a==="text"&&(u=this.rawValue(c)),u!==void 0&&(i+=u);return i};y.prototype.renderSection=function(e,t,o,r,s){var i=this,c="",a=t.lookup(e[1]);function u(v){return i.render(v,t,o,s)}if(!!a){if(S(a))for(var f=0,g=a.length;f<g;++f)c+=this.renderTokens(e[4],t.push(a[f]),o,r,s);else if(typeof a=="object"||typeof a=="string"||typeof a=="number")c+=this.renderTokens(e[4],t.push(a),o,r,s);else if(V(a)){if(typeof r!="string")throw new Error("Cannot use higher-order sections without the original template");a=a.call(t.view,r.slice(e[3],e[5]),u),a!=null&&(c+=a)}else c+=this.renderTokens(e[4],t,o,r,s);return c}};y.prototype.renderInverted=function(e,t,o,r,s){var i=t.lookup(e[1]);if(!i||S(i)&&i.length===0)return this.renderTokens(e[4],t,o,r,s)};y.prototype.indentPartial=function(e,t,o){for(var r=t.replace(/[^ \t]/g,""),s=e.split(`
`),i=0;i<s.length;i++)s[i].length&&(i>0||!o)&&(s[i]=r+s[i]);return s.join(`
`)};y.prototype.renderPartial=function(e,t,o,r){if(!!o){var s=this.getConfigTags(r),i=V(o)?o(e[1]):o[e[1]];if(i!=null){var c=e[6],a=e[5],u=e[4],f=i;a==0&&u&&(f=this.indentPartial(i,u,c));var g=this.parse(f,s);return this.renderTokens(g,t,o,f,r)}}};y.prototype.unescapedValue=function(e,t){var o=t.lookup(e[1]);if(o!=null)return o};y.prototype.escapedValue=function(e,t,o){var r=this.getConfigEscape(o)||m.escape,s=t.lookup(e[1]);if(s!=null)return typeof s=="number"&&r===m.escape?String(s):r(s)};y.prototype.rawValue=function(e){return e[1]};y.prototype.getConfigTags=function(e){return S(e)?e:e&&typeof e=="object"?e.tags:void 0};y.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!S(e))return e.escape};var m={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){P.templateCache=n},get templateCache(){return P.templateCache}},P=new y;m.clearCache=function(){return P.clearCache()};m.parse=function(e,t){return P.parse(e,t)};m.render=function(e,t,o,r){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+de(e)+'" was given as the first argument for mustache#render(template, view, partials)');return P.render(e,t,o,r)};m.escape=Ze;m.Scanner=E;m.Context=W;m.Writer=y;class Me{constructor(e,t){this.template=e,this.state=t,this.ast=m.parse(e)}getValue(){return this.value===void 0&&(this.value=m.render(this.template,this.state)),this.value}onChange(e){const t=[];for(const o of this.getUsedVariables().values())t.push(this.state.onVariableChange(o).subscribe(()=>{const r=m.render(this.template,this.state);r!==this.value&&(this.value=r,e(this.value))}));return{unsubscribe:()=>{for(const o of t)o.unsubscribe()}}}isPureString(){return this.ast.length===0||this.ast.length===1&&this.ast[0][0]==="text"}getUsedVariables(){const e=new Set;return this.recursiveGetUsedVariables(this.ast,e),e}recursiveGetUsedVariables(e,t){for(const o of e){const r=o[0],s=o[1],i=o[4];["name","&","#","^"].includes(r)&&t.add(s),i!==void 0&&typeof i!="string"&&this.recursiveGetUsedVariables(i,t)}}}async function ke(){var n;const e=await L();for(const[t,o]of e.entries()){const r=(n=o.properties)!==null&&n!==void 0?n:[];for(const s of r){if(s.type==="int"||s.type==="bool"||s.type==="object"||typeof s.value!="string")continue;const i=new Me(s.value,WA.state);if(i.isPureString())continue;const c=i.getValue();N(t,s.name,c),i.onChange(a=>{N(t,s.name,a)})}}}function N(n,e,t){WA.room.setProperty(n,e,t),e==="visible"&&(t?WA.room.showLayer(n):WA.room.hideLayer(n))}let G,I=0,j=0;function $(n){if(WA.state[n.name]){let e=n.properties.mustGetString("openLayer");for(const t of e.split(`
`))WA.room.showLayer(t);e=n.properties.mustGetString("closeLayer");for(const t of e.split(`
`))WA.room.hideLayer(t)}else{let e=n.properties.mustGetString("openLayer");for(const t of e.split(`
`))WA.room.hideLayer(t);e=n.properties.mustGetString("closeLayer");for(const t of e.split(`
`))WA.room.showLayer(t)}}function Le(n){const e=n.properties.getString("openSound"),t=n.properties.getNumber("soundRadius");let o=1;if(t){const r=te(n.properties.mustGetString("openLayer").split(`
`));if(r>t)return;o=1-r/t}e&&WA.sound.loadSound(e).play({volume:o})}function Te(n){const e=n.properties.getString("closeSound"),t=n.properties.getNumber("soundRadius");let o=1;if(t){const r=te(n.properties.mustGetString("closeLayer").split(`
`));if(r>t)return;o=1-r/t}e&&WA.sound.loadSound(e).play({volume:o})}function ee(n){return n.map(e=>G.get(e)).filter(e=>(e==null?void 0:e.type)==="tilelayer")}function te(n){const e=ee(n),t=z(e),o=((t.right-t.left)/2+t.left)*32,r=((t.bottom-t.top)/2+t.top)*32;return Math.sqrt(Math.pow(I-o,2)+Math.pow(j-r,2))}function xe(n){WA.state.onVariableChange(n.name).subscribe(()=>{WA.state[n.name]?Le(n):Te(n),$(n)}),$(n)}function Re(n,e,t,o){const r=n.name;let s,i,c=!1;const a=t.getString("tag");let u=!0;a&&!WA.player.tags.includes(a)&&(u=!1);const f=!!a;function g(){var l;s&&s.remove(),s=WA.ui.displayActionMessage({message:(l=t.getString("closeTriggerMessage"))!==null&&l!==void 0?l:"Press SPACE to close the door",callback:()=>{WA.state[e.name]=!1,v()}})}function v(){var l;s&&s.remove(),s=WA.ui.displayActionMessage({message:(l=t.getString("openTriggerMessage"))!==null&&l!==void 0?l:"Press SPACE to open the door",callback:()=>{WA.state[e.name]=!0,g()}})}function h(l){const p=z(ee(e.properties.mustGetString("closeLayer").split(`
`)));i=WA.room.website.create({name:"doorKeypad"+l,url:o+"/keypad.html#"+encodeURIComponent(l),position:{x:p.right*32,y:p.top*32,width:32*3,height:32*4},allowApi:!0})}function Z(){i&&(WA.room.website.delete(i.name),i=void 0)}WA.room.onEnterLayer(r).subscribe(()=>{if(c=!0,t.getBoolean("autoOpen")&&u){WA.state[e.name]=!0;return}if(!WA.state[e.name]&&(f&&!u||!f)&&(t.getString("code")||t.getString("codeVariable"))){h(r);return}!u||(WA.state[e.name]?g():v())}),WA.room.onLeaveLayer(r).subscribe(()=>{c=!1,t.getBoolean("autoClose")&&(WA.state[e.name]=!1),s&&s.remove(),Z()}),WA.state.onVariableChange(e.name).subscribe(()=>{c&&(!t.getBoolean("autoClose")&&WA.state[e.name]===!0&&g(),i&&WA.state[e.name]===!0&&Z(),!t.getBoolean("autoOpen")&&WA.state[e.name]===!1&&v())})}function Ge(n){const e=n.properties.mustGetString("bellSound"),t=n.properties.getNumber("soundRadius");let o=1;if(t){const r=Math.sqrt(Math.pow(n.x-I,2)+Math.pow(n.y-j,2));if(r>t)return;o=1-r/t}WA.sound.loadSound(e).play({volume:o})}function Ve(n){WA.state[n.name]===void 0&&(WA.state[n.name]=0),WA.state.onVariableChange(n.name).subscribe(()=>{WA.state[n.name]&&Ge(n)})}function Ie(n,e,t){let o;const r=e.getString("bellPopup");WA.room.onEnterLayer(t).subscribe(()=>{var s;r?o=WA.ui.openPopup(r,"",[{label:(s=e.getString("bellButtonText"))!==null&&s!==void 0?s:"Ring",callback:()=>{WA.state[n]=WA.state[n]+1}}]):WA.state[n]=WA.state[n]+1}),WA.room.onLeaveLayer(t).subscribe(()=>{o&&(o.close(),o=void 0)})}async function je(n){n=n!=null?n:k;const e=await le();G=await L();for(const t of e.values())t.properties.get("door")&&xe(t),t.properties.get("bell")&&Ve(t);for(const t of G.values()){const o=new B(t.properties),r=o.getString("doorVariable");if(r&&t.type==="tilelayer"){const i=e.get(r);if(i===void 0)throw new Error('Cannot find variable "'+r+'" referred in the "doorVariable" property of layer "'+t.name+'"');Re(t,i,o,n)}const s=o.getString("bellVariable");s&&Ie(s,o,t.name)}WA.player.onPlayerMove(t=>{I=t.x,j=t.y})}function De(n,e){const t=n.getString("bindVariable");if(t){const o=n.get("enterValue"),r=n.get("leaveValue"),s=n.getString("triggerMessage"),i=n.getString("tag");Oe(t,e,o,r,s,i)}}function Oe(n,e,t,o,r,s){s&&!WA.player.tags.includes(s)||(t!==void 0&&WA.room.onEnterLayer(e).subscribe(()=>{r||(WA.state[n]=t)}),o!==void 0&&WA.room.onLeaveLayer(e).subscribe(()=>{WA.state[n]=o}))}async function Ue(){const n=await L();for(const e of n.values()){const t=new B(e.properties);De(t,e.name)}}let X;async function _e(n){const e=await WA.room.getTiledMap();n=n!=null?n:k,X=await L();const t=e.layers.find(o=>o.name==="configuration");if(t){const r=new B(t.properties).getString("tag");(!r||WA.player.tags.includes(r))&&WA.ui.registerMenuCommand("Configure the room",()=>{WA.nav.openCoWebSite(n+"/configuration.html",!0)});for(const s of X.values()){const i=new B(s.properties),c=i.getString("openConfig");c&&s.type==="tilelayer"&&He(c.split(","),s.name,i)}}}function He(n,e,t){let o;const r=t.getString("openConfigAdminTag");let s=!0;r&&!WA.player.tags.includes(r)&&(s=!1);function i(){var a;o&&o.remove(),o=WA.ui.displayActionMessage({message:(a=t.getString("openConfigTriggerMessage"))!==null&&a!==void 0?a:"Press SPACE or touch here to configure",callback:()=>H(n)})}function c(){WA.nav.closeCoWebSite()}WA.room.onEnterLayer(e).subscribe(()=>{const a=t.getString("openConfigTrigger");s&&(a&&a==="onaction"?i():H(n))}),WA.room.onLeaveLayer(e).subscribe(()=>{o&&o.remove(),c()})}const qe=[{lowerBound:0,uppperBound:.5,config:{width:250,height:390,scale:1}},{lowerBound:.5,uppperBound:.8,config:{width:224,height:350,scale:.9}},{lowerBound:.8,uppperBound:1.25,config:{width:132,height:211,scale:.53}},{lowerBound:1.25,uppperBound:2.28,config:{width:64,height:99,scale:.25}},{lowerBound:1.25,config:{width:39,height:63,scale:.16}}],Ke=[{lowerBound:0,uppperBound:1,config:{width:427,height:270,scale:1}},{lowerBound:1,uppperBound:1.9,config:{width:300,height:188,scale:.7}},{lowerBound:1.9,uppperBound:3.5,config:{width:150,height:94,scale:.35}},{lowerBound:3.5,uppperBound:5,config:{width:93,height:58,scale:.21}},{lowerBound:4,config:{width:75,height:46,scale:.17}}];async function Ne(){var n;const e=WA.player.state.tutorialDone,t=/Mobi|Android/i.test(navigator.userAgent),r=await((n=(await WA.room.getTiledMap()).properties)===null||n===void 0?void 0:n.find(i=>i.name==="tutorial")),s=r&&r.value;if(!e&&s){$e(t);let i=await WA.player.getPosition(),c;const a=await WA.room.website.get("tutorial"),u=()=>{const Z=i.x+a.x+a.width>c.x+c.width,l=i.x+a.x<c.x,p=i.y+a.y+a.height>c.y+c.height,d=i.y+a.y<c.y;Z?a.x=-a.width-1.5*16:l&&(a.x=1.5*16),p?a.y=-a.height:d&&(a.y=16)},f=h=>{a.width=h.width,a.height=h.height,a.scale=h.scale},g=h=>{const l=(t?qe:Ke).filter(p=>{if(p.lowerBound&&p.uppperBound)return p.lowerBound<h&&h<=p.uppperBound;if(p.lowerBound&&!p.uppperBound)return p.lowerBound<h;if(!p.lowerBound&&p.uppperBound)return h<=p.uppperBound;throw new Error(`Zoom level of: ${h} could not fit in any of the desktopConfig's ranges.`)});f(l[0].config)},v=()=>{if(c===void 0)return;const h=c.zoom;g(h),u()};WA.player.onPlayerMove(h=>{i=h,v()}),WA.camera.onCameraUpdate().subscribe(h=>{c=h,v()}),WA.player.state.tutorialDone=!0}}function $e(n){let e={allow:"",name:"tutorial",url:k+"/tutorial.html",position:{height:224,width:407,x:16,y:-112},visible:!0,allowApi:!0,origin:"player",scale:.9};n&&(e=_(U({},e),{position:{x:32,y:-225,height:390,width:250},scale:1})),WA.room.website.create(e)}function Xe(){return WA.onInit().then(()=>{je().catch(n=>console.error(n)),Ue().catch(n=>console.error(n)),_e().catch(n=>console.error(n)),ke().catch(n=>console.error(n)),Ne().catch(n=>console.error(n))}).catch(n=>console.error(n))}const Ye="https://archive.org/details/histoiredehainau07guys",Fe="https://archive.org/details/aupaysdeladmen00ches",Je="https://archive.org/details/lacolonne00desc",Qe="https://archive.org/details/guerressouslouis06pajo",ze="https://archive.org/details/chartesvendomoi00meta",et="https://archive.org/details/parisrevolutionn00leno",tt="https://archive.org/details/pioneersprominen00esshrich/mode/2up",nt="https://archive.org/details/awfuldisclosures00monkiala/mode/2up",ot="https://archive.org/details/japanintaishoera00nishrich",rt="https://archive.org/details/amerherostories00tapprich",st="https://archive.org/details/historyofamadorc00masorich",it="https://archive.org/details/lifeoflokamanyat00atharich",at="https://archive.org/details/curriculum00bobbrich",ct="https://archive.org/details/montessorichildr00bailrich",lt="https://archive.org/details/instructormanjob00allerich",ut="https://archive.org/details/steigerseducatio00steirich",pt="https://archive.org/details/educationalprobl01halliala",ht="https://archive.org/details/socialsciencesfi00chicrich",ft="https://archive.org/details/adventuresoftoms00twaiiala",dt="https://archive.org/details/historyofarabicl00huarrich",gt="https://archive.org/details/abroadcranethoma00craniala",yt="https://archive.org/details/adventureshuckle00twaiiala",vt="https://archive.org/details/anecdotesofanima00billiala",mt="https://archive.org/details/pondewaldcarltei00ewalrich",wt="https://archive.org/details/historyofeconomi00haneiala",bt="https://archive.org/details/householdmodern00talbrich",Zt="https://archive.org/details/principlesofecon01marsrich",At="https://archive.org/details/householdbacteri00elliiala",Wt="https://archive.org/details/homedissertation00tiltrich",St="https://archive.org/details/janusinmodernlif00petr",Ct="https://archive.org/details/geologicalsketch00agasrich",Bt="https://archive.org/details/geologicalsurvey04illirich",Pt="https://archive.org/details/geologyofminneso01geolrich",Et="https://archive.org/details/scientificreport03austrich",Mt="https://archive.org/details/foundgeology00geikrich",kt="https://archive.org/details/subterraneanworl00hartrich",Lt="https://archive.org/details/scientificpapers05rayliala",Tt="https://archive.org/details/chemistryofcreat00elliiala",xt="https://archive.org/details/astronomygeneral00whewrich",Rt="https://archive.org/details/opticalgeometryo00robbrich",Gt="https://archive.org/details/harmonicsorphilo00smit",Vt="https://archive.org/details/practiphysics00stewrich",It="https://archive.org/details/essaysonart00palgrich",jt="https://archive.org/details/georgefredericwa02wattiala",Dt="https://archive.org/details/birdwoodsva00birdrich",Ot="https://archive.org/details/ravenna00ricc",Ut="https://archive.org/details/visiondesign00fryr",_t="https://archive.org/details/potboilers00belliala";var Ht={histHannoutZone:Ye,paysDemanceZone:Fe,laColonneZone:Je,lesGuerresZone:Qe,chartesVendomoisesZone:ze,parisRevolutionnaireZone:et,utahZone:tt,mariaMonkZone:nt,taisoZone:ot,americanHeroZone:rt,amadorCounty:st,lokamanyatZone:it,cvZone:at,montessoriZone:ct,instructorZone:lt,steigerZone:ut,educationalProblemsZone:pt,socialSciencesZone:ht,sawyerZone:ft,arabicZone:dt,abroadZone:gt,huckleberryZone:yt,animalsZone:vt,pondZone:mt,ecoHistZone:wt,householdZone:bt,principEcoZone:Zt,bacteriologyZone:At,homeDisZone:Wt,janusZone:St,sketchesZone:Ct,surveyZone:Bt,minnesotaZone:Pt,reportsZone:Et,foundersZone:Mt,subterraneanZone:kt,scPapersZone:Lt,chemCreationZone:Tt,astronomyZone:xt,opticalZone:Rt,harmonicsZone:Gt,practicalZone:Vt,essaysZone:It,wattsZone:jt,svaZone:Dt,ravennaZone:Ot,designZone:Ut,potBoilersZone:_t},Y=["historyZone","historyZonePopup","History","biographyZone","biographyZonePopup","Biography","eduZone","eduZonePopup","Education","literZone","literZonePopup","Literature","ecoZone","ecoZonePopup","Economics","geologyZone","geologyZonePopup","Geology","physicsZone","physicsZonePopup","Physics","artZone","artZonePopup","L'Art"];console.log("Script started successfully");WA.onInit().then(()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags);const n=new Date,e=n.getHours()+":"+n.getMinutes();F("clockZone","clockPopup","It's "+e);for(let t=0;t<Y.length;t+=3){let o=Y.slice(t,t+3);F(o[0],o[1],o[2])}qt(Ht),Xe().then(()=>{console.log("Scripting API Extra ready")}).catch(t=>console.error(t))}).catch(n=>console.error(n));function F(n,e,t){let o;WA.room.onEnterLayer(n).subscribe(()=>{o=WA.ui.openPopup(e,t,[])}),WA.room.onLeaveLayer(n).subscribe(()=>{o!==void 0&&(o.close(),o=void 0)})}function qt(n){Object.entries(n).forEach(([e,t])=>WA.room.setProperty(e,"openWebsite",t))}
